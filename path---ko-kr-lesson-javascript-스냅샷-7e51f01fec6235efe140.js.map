{"version":3,"sources":["webpack:///path---ko-kr-lesson-javascript-스냅샷-7e51f01fec6235efe140.js","webpack:///./.cache/json/ko-kr-lesson-javascript-스냅샷.json"],"names":["webpackJsonp","437","module","exports","data","allPostTitles","edges","node","frontmatter","title","lesson","programming_language","chapter","type","fields","slug","postBySlug","html","timeToRead","excerpt","date","tags","pathContext","language"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,eAAiBC,QAAUC,MAAQC,aAAeC,MAAA,UAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA6FC,QAAWC,KAAA,eAAsBR,MAAQC,aAAeC,MAAA,OAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA0FC,QAAWC,KAAA,YAAmBR,MAAQC,aAAeC,MAAA,YAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA+FC,QAAWC,KAAA,iBAAwBR,MAAQC,aAAeC,MAAA,aAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAAgGC,QAAWC,KAAA,iBAAwBR,MAAQC,aAAeC,MAAA,OAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA0FC,QAAWC,KAAA,YAAmBR,MAAQC,aAAeC,MAAA,qBAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAAwGC,QAAWC,KAAA,yBAAgCR,MAAQC,aAAeC,MAAA,OAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA0FC,QAAWC,KAAA,YAAmBR,MAAQC,aAAeC,MAAA,MAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAAyFC,QAAWC,KAAA,WAAkBR,MAAQC,aAAeC,MAAA,YAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA+FC,QAAWC,KAAA,iBAAwBR,MAAQC,aAAeC,MAAA,UAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA6FC,QAAWC,KAAA,eAAsBR,MAAQC,aAAeC,MAAA,UAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA6FC,QAAWC,KAAA,eAAsBR,MAAQC,aAAeC,MAAA,WAAAC,OAAA,EAAAC,qBAAA,aAAAC,QAAA,EAAAC,KAAA,UAA8FC,QAAWC,KAAA,iBAAuBC,YAAeC,KAAA,o4FAAwvFC,WAAA,EAAAC,QAAA,uHAAAX,aAAoZC,MAAA,MAAAW,KAAA,aAAAT,qBAAA,aAAAU,MAAA,iDAA8HP,QAAWC,KAAA,UAAgBO,aAAgBP,KAAA,OAAAJ,qBAAA,aAAAY,SAAA","file":"path---ko-kr-lesson-javascript-스냅샷-7e51f01fec6235efe140.js","sourcesContent":["webpackJsonp([137141750395223],{\n\n/***/ 437:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"allPostTitles\":{\"edges\":[{\"node\":{\"frontmatter\":{\"title\":\"액터 간 통신\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/액터-간-통신\"}}},{\"node\":{\"frontmatter\":{\"title\":\"시작하기\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":1,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/시작하기\"}}},{\"node\":{\"frontmatter\":{\"title\":\"액터의 계층 구조\",\"lesson\":4,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/액터의-계층-구조\"}}},{\"node\":{\"frontmatter\":{\"title\":\"상태 저장(영속성)\",\"lesson\":1,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/상태-저장-영속성\"}}},{\"node\":{\"frontmatter\":{\"title\":\"질의하기\",\"lesson\":3,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/질의하기\"}}},{\"node\":{\"frontmatter\":{\"title\":\"관리 감독(Supervision)\",\"lesson\":5,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/관리-감독-supervision\"}}},{\"node\":{\"frontmatter\":{\"title\":\"타임아웃\",\"lesson\":3,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/타임아웃\"}}},{\"node\":{\"frontmatter\":{\"title\":\"스냅샷\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/스냅샷\"}}},{\"node\":{\"frontmatter\":{\"title\":\"상태가 있는 액터\",\"lesson\":1,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/상태가-있는-액터\"}}},{\"node\":{\"frontmatter\":{\"title\":\"Nact 소개\",\"lesson\":1,\"programming_language\":\"javascript\",\"chapter\":1,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/nact-소개\"}}},{\"node\":{\"frontmatter\":{\"title\":\"인코더/디코더\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":4,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/인코더-디코더\"}}},{\"node\":{\"frontmatter\":{\"title\":\"퍼시스턴트 쿼리\",\"lesson\":4,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/퍼시스턴트-쿼리\"}}}]},\"postBySlug\":{\"html\":\"<p>이벤트가 많이 누적된 액터를 복원할 때 문제가 생길 수 있습니다. 왜냐하면 누적된 이벤트가 많을수록 액터가 상태를 복원하는 데 시간이 오래 걸릴 수 있기 때문입니다. 시간에 민감한 애플리케이션에서는 nact가 부적절하다고 생각하실 수도 있겠지만, 이를 해결할 방법이 있습니다. 바로 <strong>스냅샷</strong>입니다. 스냅샷은 <strong>모든 저장된 이벤트를 재생하지 않고도 액터의 상태를 복원하는 방법</strong>입니다. 액터가 상태를 복원할 때 nact는 <strong>스냅샷 저장소</strong>에서 복원할 수 있는 스냅샷이 있는지 먼저 확인하고, 그 중에서 최근의 스냅샷을 불러옵니다. 스냅샷에는 몇 번째 이벤트에서 스냅샷이 만들어졌는지를 알려주는 시퀀스 번호가 있습니다. 이제 액터 복원 모드에서 스냅샷을 액터의 <code>initialState</code>로 전달하고, 해당 스냅샷 이후에 만들어진 이벤트만 재생합니다.</p>\\n<p>기존의 코드에서 스냅샷을 지원하도록 고쳐보겠습니다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code><span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> messages <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'nact'</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">spawnUserContactService</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>parent<span class=\\\"token punctuation\\\">,</span> userId<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token function\\\">spawnPersistent</span><span class=\\\"token punctuation\\\">(</span>\\n  parent<span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token comment\\\">// 메시지 핸들러 (변경 없음)</span>\\n  <span class=\\\"token keyword\\\">async</span> <span class=\\\"token punctuation\\\">(</span>state <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span> contacts<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> msg<span class=\\\"token punctuation\\\">,</span> ctx<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`contacts:</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>userId<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">,</span>\\n  userId<span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> snapshotEvery<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">20</span> <span class=\\\"token operator\\\">*</span> messages <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p><code>spawnPersistent</code> 함수의 마지막 인자로 <strong>액터 속성</strong> 오브젝트를 전달합니다. 이때 <code>snapshotEvery</code> 속성은 nact가 해당 액터가 수신하는 메시지 20회마다 스냅샷을 생성하도록 합니다.</p>\",\"timeToRead\":1,\"excerpt\":\"이벤트가 많이 누적된 액터를 복원할 때 문제가 생길 수 있습니다. 왜냐하면 누적된 이벤트가 많을수록 액터가 상태를 복원하는 데 시간이 오래 걸릴 수 있기 때문입니다. 시간에 민감한 애플리케이션에서는 nact…\",\"frontmatter\":{\"title\":\"스냅샷\",\"date\":\"22/03/2019\",\"programming_language\":\"javascript\",\"tags\":[\"getting-started\",\"nact\",\"javascript\",\"nodejs\"]},\"fields\":{\"slug\":\"/스냅샷\"}}},\"pathContext\":{\"slug\":\"/스냅샷\",\"programming_language\":\"javascript\",\"language\":\"ko_kr\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---ko-kr-lesson-javascript-스냅샷-7e51f01fec6235efe140.js","module.exports = {\"data\":{\"allPostTitles\":{\"edges\":[{\"node\":{\"frontmatter\":{\"title\":\"액터 간 통신\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/액터-간-통신\"}}},{\"node\":{\"frontmatter\":{\"title\":\"시작하기\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":1,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/시작하기\"}}},{\"node\":{\"frontmatter\":{\"title\":\"액터의 계층 구조\",\"lesson\":4,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/액터의-계층-구조\"}}},{\"node\":{\"frontmatter\":{\"title\":\"상태 저장(영속성)\",\"lesson\":1,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/상태-저장-영속성\"}}},{\"node\":{\"frontmatter\":{\"title\":\"질의하기\",\"lesson\":3,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/질의하기\"}}},{\"node\":{\"frontmatter\":{\"title\":\"관리 감독(Supervision)\",\"lesson\":5,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/관리-감독-supervision\"}}},{\"node\":{\"frontmatter\":{\"title\":\"타임아웃\",\"lesson\":3,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/타임아웃\"}}},{\"node\":{\"frontmatter\":{\"title\":\"스냅샷\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/스냅샷\"}}},{\"node\":{\"frontmatter\":{\"title\":\"상태가 있는 액터\",\"lesson\":1,\"programming_language\":\"javascript\",\"chapter\":2,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/상태가-있는-액터\"}}},{\"node\":{\"frontmatter\":{\"title\":\"Nact 소개\",\"lesson\":1,\"programming_language\":\"javascript\",\"chapter\":1,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/nact-소개\"}}},{\"node\":{\"frontmatter\":{\"title\":\"인코더/디코더\",\"lesson\":2,\"programming_language\":\"javascript\",\"chapter\":4,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/인코더-디코더\"}}},{\"node\":{\"frontmatter\":{\"title\":\"퍼시스턴트 쿼리\",\"lesson\":4,\"programming_language\":\"javascript\",\"chapter\":3,\"type\":\"lesson\"},\"fields\":{\"slug\":\"/퍼시스턴트-쿼리\"}}}]},\"postBySlug\":{\"html\":\"<p>이벤트가 많이 누적된 액터를 복원할 때 문제가 생길 수 있습니다. 왜냐하면 누적된 이벤트가 많을수록 액터가 상태를 복원하는 데 시간이 오래 걸릴 수 있기 때문입니다. 시간에 민감한 애플리케이션에서는 nact가 부적절하다고 생각하실 수도 있겠지만, 이를 해결할 방법이 있습니다. 바로 <strong>스냅샷</strong>입니다. 스냅샷은 <strong>모든 저장된 이벤트를 재생하지 않고도 액터의 상태를 복원하는 방법</strong>입니다. 액터가 상태를 복원할 때 nact는 <strong>스냅샷 저장소</strong>에서 복원할 수 있는 스냅샷이 있는지 먼저 확인하고, 그 중에서 최근의 스냅샷을 불러옵니다. 스냅샷에는 몇 번째 이벤트에서 스냅샷이 만들어졌는지를 알려주는 시퀀스 번호가 있습니다. 이제 액터 복원 모드에서 스냅샷을 액터의 <code>initialState</code>로 전달하고, 해당 스냅샷 이후에 만들어진 이벤트만 재생합니다.</p>\\n<p>기존의 코드에서 스냅샷을 지원하도록 고쳐보겠습니다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code><span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> messages <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'nact'</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">spawnUserContactService</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>parent<span class=\\\"token punctuation\\\">,</span> userId<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token function\\\">spawnPersistent</span><span class=\\\"token punctuation\\\">(</span>\\n  parent<span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token comment\\\">// 메시지 핸들러 (변경 없음)</span>\\n  <span class=\\\"token keyword\\\">async</span> <span class=\\\"token punctuation\\\">(</span>state <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span> contacts<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> msg<span class=\\\"token punctuation\\\">,</span> ctx<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`contacts:</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>userId<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">,</span>\\n  userId<span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span> snapshotEvery<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">20</span> <span class=\\\"token operator\\\">*</span> messages <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p><code>spawnPersistent</code> 함수의 마지막 인자로 <strong>액터 속성</strong> 오브젝트를 전달합니다. 이때 <code>snapshotEvery</code> 속성은 nact가 해당 액터가 수신하는 메시지 20회마다 스냅샷을 생성하도록 합니다.</p>\",\"timeToRead\":1,\"excerpt\":\"이벤트가 많이 누적된 액터를 복원할 때 문제가 생길 수 있습니다. 왜냐하면 누적된 이벤트가 많을수록 액터가 상태를 복원하는 데 시간이 오래 걸릴 수 있기 때문입니다. 시간에 민감한 애플리케이션에서는 nact…\",\"frontmatter\":{\"title\":\"스냅샷\",\"date\":\"22/03/2019\",\"programming_language\":\"javascript\",\"tags\":[\"getting-started\",\"nact\",\"javascript\",\"nodejs\"]},\"fields\":{\"slug\":\"/스냅샷\"}}},\"pathContext\":{\"slug\":\"/스냅샷\",\"programming_language\":\"javascript\",\"language\":\"ko_kr\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/ko-kr-lesson-javascript-스냅샷.json\n// module id = 437\n// module chunks = 137141750395223"],"sourceRoot":""}